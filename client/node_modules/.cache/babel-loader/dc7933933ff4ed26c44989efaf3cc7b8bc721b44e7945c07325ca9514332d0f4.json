{"ast":null,"code":"var _jsxFileName = \"D:\\\\mid-project-582786\\\\source\\\\fe\\\\src\\\\components\\\\MessageItem.jsx\";\nimport React from 'react';\nimport { format } from 'date-fns';\n//import './MessageItem.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageItem = ({\n  message,\n  isOwn,\n  showAvatar = false\n}) => {\n  var _message$sender, _message$sender2;\n  const formatTime = date => {\n    try {\n      return format(new Date(date), 'HH:mm');\n    } catch {\n      return '';\n    }\n  };\n  const getMessageStatusIcon = () => {\n    if (!isOwn) return null;\n    if (message.status === 'sent') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"status-icon\",\n        children: \"\\u2713\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 14\n      }, this);\n    } else if (message.status === 'delivered') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"status-icon delivered\",\n        children: \"\\u2713\\u2713\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 14\n      }, this);\n    } else if (message.status === 'read') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"status-icon read\",\n        children: \"\\u2713\\u2713\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 14\n      }, this);\n    }\n    return null;\n  };\n  const renderMessageContent = () => {\n    switch (message.type) {\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message-text\",\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 16\n        }, this);\n      case 'image':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: message.content,\n            alt: \"Attachment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this);\n      case 'file':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-file\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"file-icon\",\n            children: \"\\uD83D\\uDCCE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: message.content,\n            download: true,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: message.fileName || 'Download file'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message-text\",\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `message-item ${isOwn ? 'own' : 'other'}`,\n    children: [!isOwn && showAvatar && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-avatar\",\n      children: ((_message$sender = message.sender) === null || _message$sender === void 0 ? void 0 : _message$sender.avatar) || 'ðŸ‘¤'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-content-wrapper\",\n      children: [!isOwn && showAvatar && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sender-name\",\n        children: (_message$sender2 = message.sender) === null || _message$sender2 === void 0 ? void 0 : _message$sender2.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-bubble\",\n        children: [renderMessageContent(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"message-time\",\n            children: formatTime(message.createdAt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), getMessageStatusIcon()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), isOwn && showAvatar && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-avatar-placeholder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_c = MessageItem;\nexport default MessageItem;\nvar _c;\n$RefreshReg$(_c, \"MessageItem\");","map":{"version":3,"names":["React","format","jsxDEV","_jsxDEV","MessageItem","message","isOwn","showAvatar","_message$sender","_message$sender2","formatTime","date","Date","getMessageStatusIcon","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderMessageContent","type","content","src","alt","href","download","target","rel","sender","avatar","username","createdAt","_c","$RefreshReg$"],"sources":["D:/mid-project-582786/source/fe/src/components/MessageItem.jsx"],"sourcesContent":["import React from 'react';\r\nimport { format } from 'date-fns';\r\n//import './MessageItem.css';\r\n\r\nconst MessageItem = ({ message, isOwn, showAvatar = false }) => {\r\n  const formatTime = (date) => {\r\n    try {\r\n      return format(new Date(date), 'HH:mm');\r\n    } catch {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  const getMessageStatusIcon = () => {\r\n    if (!isOwn) return null;\r\n    \r\n    if (message.status === 'sent') {\r\n      return <span className=\"status-icon\">âœ“</span>;\r\n    } else if (message.status === 'delivered') {\r\n      return <span className=\"status-icon delivered\">âœ“âœ“</span>;\r\n    } else if (message.status === 'read') {\r\n      return <span className=\"status-icon read\">âœ“âœ“</span>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const renderMessageContent = () => {\r\n    switch (message.type) {\r\n      case 'text':\r\n        return <p className=\"message-text\">{message.content}</p>;\r\n      \r\n      case 'image':\r\n        return (\r\n          <div className=\"message-image\">\r\n            <img src={message.content} alt=\"Attachment\" />\r\n          </div>\r\n        );\r\n      \r\n      case 'file':\r\n        return (\r\n          <div className=\"message-file\">\r\n            <span className=\"file-icon\">ðŸ“Ž</span>\r\n            <a href={message.content} download target=\"_blank\" rel=\"noopener noreferrer\">\r\n              {message.fileName || 'Download file'}\r\n            </a>\r\n          </div>\r\n        );\r\n      \r\n      default:\r\n        return <p className=\"message-text\">{message.content}</p>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`message-item ${isOwn ? 'own' : 'other'}`}>\r\n      {!isOwn && showAvatar && (\r\n        <div className=\"message-avatar\">\r\n          {message.sender?.avatar || 'ðŸ‘¤'}\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"message-content-wrapper\">\r\n        {!isOwn && showAvatar && (\r\n          <div className=\"sender-name\">{message.sender?.username}</div>\r\n        )}\r\n        \r\n        <div className=\"message-bubble\">\r\n          {renderMessageContent()}\r\n          \r\n          <div className=\"message-meta\">\r\n            <span className=\"message-time\">{formatTime(message.createdAt)}</span>\r\n            {getMessageStatusIcon()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {isOwn && showAvatar && <div className=\"message-avatar-placeholder\"></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}